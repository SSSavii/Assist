{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/georgiiisavich/Desktop/assist_plus/src/app/%28main%29/auction/page.tsx"],"sourcesContent":["'use client';\nimport { useState, useEffect, useCallback } from 'react';\n\n// Типы призов\ntype Prize = { \n  name: string; \n  type: 'rare' | 'common'; // редкий или обычный\n};\n\n// Все возможные призы\nconst ALL_PRIZES: Prize[] = [\n  // Редкие призы (малый шанс)\n  { name: 'Онлайн-разбор с Иваном', type: 'rare' },\n  { name: 'Приоритетное место у Ивана', type: 'rare' },\n  { name: 'Розыгрыш завтрака с Иваном', type: 'rare' },\n  { name: 'Ответ Ивана голосом', type: 'rare' },\n  { name: 'Звонок 1 на 1 с Антоном', type: 'rare' },\n  \n  // Обычные призы (хороший шанс)\n  { name: '3 чек-листа', type: 'common' },\n  { name: 'Созвон с Антоном и БА', type: 'common' },\n  { name: '1000 A+', type: 'common' },\n  { name: 'Разбор резюме', type: 'common' },\n  { name: '500 A+', type: 'common' },\n  { name: 'Консультация 15 мин', type: 'common' },\n  { name: 'Доступ к материалам', type: 'common' },\n  { name: 'Персональная рекомендация', type: 'common' }\n];\n\nexport default function ShopPage() {\n  const [userPluses, setUserPluses] = useState(2);\n  const [isSpinning, setIsSpinning] = useState(false);\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [winningPrize, setWinningPrize] = useState<Prize | null>(null);\n  const [spinKey, setSpinKey] = useState(0);\n  const [slots, setSlots] = useState<string[]>(['', '', '']);\n\n  // Функция для получения случайного приза с учетом вероятности\n  const getRandomPrize = useCallback((): Prize => {\n    const random = Math.random();\n    // 20% шанс на редкий приз, 80% на обычный\n    const availablePrizes = random < 0.2 \n      ? ALL_PRIZES.filter(p => p.type === 'rare')\n      : ALL_PRIZES.filter(p => p.type === 'common');\n    \n    return availablePrizes[Math.floor(Math.random() * availablePrizes.length)];\n  }, []);\n\n  // Анимация прокрутки слотов\n  const animateSlots = useCallback((finalPrize: Prize) => {\n    const prizeIndex = ALL_PRIZES.findIndex(p => p.name === finalPrize.name);\n    const prizePositions = [\n      (prizeIndex - 1 + ALL_PRIZES.length) % ALL_PRIZES.length,\n      prizeIndex,\n      (prizeIndex + 1) % ALL_PRIZES.length\n    ];\n\n    // Анимация промежуточных состояний\n    let iteration = 0;\n    const maxIterations = 20;\n    const interval = setInterval(() => {\n      iteration++;\n      \n      if (iteration < maxIterations) {\n        // Быстрая прокрутка случайных значений\n        setSlots([\n          ALL_PRIZES[Math.floor(Math.random() * ALL_PRIZES.length)].name,\n          ALL_PRIZES[Math.floor(Math.random() * ALL_PRIZES.length)].name,\n          ALL_PRIZES[Math.floor(Math.random() * ALL_PRIZES.length)].name\n        ]);\n      } else {\n        // Финальные значения\n        setSlots(prizePositions.map(pos => ALL_PRIZES[pos].name));\n        clearInterval(interval);\n        setIsSpinning(false);\n        \n        // Показать выигрыш\n        setTimeout(() => {\n          setWinningPrize(finalPrize);\n          alert(`Поздравляем! Вы выиграли: ${finalPrize.name}`);\n        }, 500);\n      }\n    }, 100);\n  }, []);\n\n  const handleSpin = () => {\n    if (isSpinning || userPluses < 1) return;\n    \n    setIsSpinning(true);\n    setWinningPrize(null);\n    setSpinKey(prev => prev + 1);\n    \n    // Определяем выигрыш\n    const prize = getRandomPrize();\n    \n    // Запускаем анимацию\n    animateSlots(prize);\n    \n    // Обновляем баланс\n    setUserPluses(prev => prev - 1);\n  };\n\n  // Инициализация начальных значений слотов\n  useEffect(() => {\n    setSlots([\n      ALL_PRIZES[0].name,\n      ALL_PRIZES[1].name,\n      ALL_PRIZES[2].name\n    ]);\n  }, []);\n\n  return (\n    <div className=\"flex flex-col min-h-screen font-sans items-center px-4 pt-6 pb-4 text-center text-black bg-gray-50\">\n\n      {/* Заголовок магазина */}\n      <div className=\"w-full mb-6\">\n        <h1 className=\"text-2xl font-bold mb-2\">\n          Магазин\n        </h1>\n        <p className=\"text-gray-600\">\n          Обменивай свои плюсы на интересные товары!\n        </p>\n      </div>\n      \n      {/* Блок с балансом */}\n      <div className=\"w-full bg-white rounded-xl shadow-sm p-5 mb-5\">\n        <div className=\"text-gray-700 mb-4\">\n          У вас доступно <span className=\"font-semibold\">{userPluses} плюсов</span>\n        </div>\n      </div>\n\n      {/* Горизонтальный слот с анимацией */}\n      <div className=\"w-full bg-white rounded-xl shadow-sm p-4 mb-5\">\n        <div className=\"flex justify-center items-center h-32 mb-4 bg-gradient-to-br from-purple-100 to-blue-100 rounded-lg overflow-hidden border-2 border-purple-200\">\n          <div className=\"flex space-x-3\">\n            {slots.map((slot, index) => (\n              <div \n                key={`${spinKey}-${index}`}\n                className=\"w-28 h-28 flex items-center justify-center bg-white border-2 border-purple-300 rounded-xl shadow-inner text-xs font-medium p-2 text-center transition-all duration-200 transform hover:scale-105\"\n              >\n                {slot}\n              </div>\n            ))}\n          </div>\n        </div>\n        \n        <button \n          onClick={handleSpin}\n          disabled={isSpinning || userPluses < 1}\n          className=\"w-full h-14 flex items-center justify-center bg-gradient-to-r from-purple-600 to-blue-500 text-white text-lg font-bold rounded-xl \n          transition-all\n          shadow-[0_4px_0_0_rgba(91,33,182,0.6)] \n          active:translate-y-1 active:shadow-[0_1px_0_0_rgba(91,33,182,0.6)]\n          disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {isSpinning ? 'Крутится...' : 'Крутить'}\n        </button>\n        \n        <div className=\"text-sm text-purple-600 font-medium mt-2\">\n          Крутить стоит 1 плюс\n        </div>\n      </div>\n\n      {/* Товар - созвон */}\n      <div className=\"w-full bg-white rounded-xl shadow-sm p-5\">\n        <h2 className=\"text-lg font-bold mb-4\">Премиум товар</h2>\n        \n        <div className=\"flex justify-between items-center py-3\">\n          <div className=\"text-left\">\n            <div className=\"font-medium\">Созвон с кумиром</div>\n            <div className=\"text-sm text-gray-500\">30 минут личного общения</div>\n          </div>\n          <div className=\"flex items-center\">\n            <span className=\"text-purple-600 font-bold mr-3\">10,000 плюсов</span>\n            <button \n              disabled={userPluses < 10000}\n              className=\"bg-purple-600 text-white text-sm font-semibold px-3 py-1 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              Купить\n            </button>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}