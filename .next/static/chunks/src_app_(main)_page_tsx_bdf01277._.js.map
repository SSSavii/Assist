{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/georgiiisavich/Desktop/assist_plus/src/app/%28main%29/page.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n'use client';\n\nimport { useState, useEffect } from 'react';\n\ntype UserProfile = {\n  id: number;\n  tg_id: number;\n  balance_crystals: number;\n  cases_to_open: number;\n  daily_taps_count: number;\n  last_tap_date: string | null;\n  subscribed_to_channel?: boolean;\n  voted_for_channel?: boolean;\n  tasks_completed?: {\n    subscribe: boolean;\n    vote: boolean;\n    invite: boolean;\n  };\n};\n\ninterface Task {\n  id: number;\n  points: number;\n  title: string;\n  description?: string;\n  checkButtonText: string;\n  actionButtonText: string;\n  action: () => void;\n  checkAction: () => void;\n  isCompleted?: boolean;\n}\n\ninterface NavItem {\n  id: string;\n  icon: string;\n  label: string;\n  isActive: boolean;\n}\n\nexport default function HomePage() {\n  const [user, setUser] = useState<UserProfile | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [tapsLeft, setTapsLeft] = useState(0);\n  const DAILY_TAP_LIMIT = 100;\n\n  useEffect(() => {\n    const tg = window.Telegram?.WebApp;\n    if (tg) {\n      tg.ready();\n      \n      const startappParam = tg.initDataUnsafe?.start_param;\n      console.log('startapp from WebApp:', startappParam);\n      \n      fetch('/api/auth', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          initData: tg.initData,\n          startapp: startappParam\n        }),\n      })\n      .then(response => {\n        if (!response.ok) throw new Error(`Ошибка сети: ${response.statusText}`);\n        return response.json();\n      })\n      .then((data: UserProfile) => {\n        if ((data as any).error) {\n          setError((data as any).error);\n        } else {\n          setUser(data);\n          const today = new Date().toISOString().split('T')[0];\n          if (data.last_tap_date === today) {\n            setTapsLeft(Math.max(0, DAILY_TAP_LIMIT - data.daily_taps_count));\n          } else {\n            setTapsLeft(DAILY_TAP_LIMIT);\n          }\n        }\n      })\n      .catch(err => {\n        console.error(\"Auth fetch error:\", err);\n        setError(\"Не удалось связаться с сервером.\");\n      })\n      .finally(() => setLoading(false));\n    } else {\n      setError(\"Пожалуйста, откройте приложение в Telegram.\");\n      setLoading(false);\n    }\n  }, []);\n\n  const handleEarnCrystals = () => {\n    const tg = window.Telegram?.WebApp;\n    if (!user || !tg?.initData || tapsLeft <= 0) return;\n    \n    setTapsLeft(prev => prev - 1);\n    setUser(prevUser => {\n        if (!prevUser) return null;\n        return {\n            ...prevUser,\n            balance_crystals: prevUser.balance_crystals + 1,\n            daily_taps_count: prevUser.daily_taps_count + 1\n        };\n    });\n\n    fetch('/api/tap', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ initData: tg.initData }),\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (data.error) {\n        console.error('Tap error:', data.error);\n        \n        setUser(prevUser => {\n            if (!prevUser) return null;\n            const newBalance = (prevUser.balance_crystals || 0) - 1;\n            const newTaps = (prevUser.daily_taps_count || 0) - 1;\n            return {\n                ...prevUser,\n                balance_crystals: newBalance < 0 ? 0 : newBalance,\n                daily_taps_count: newTaps < 0 ? 0 : newTaps\n            };\n        });\n        \n        if (typeof data.tapsLeft === 'number') {\n            setTapsLeft(data.tapsLeft);\n        } else {\n            setTapsLeft(prev => prev + 1);\n        }\n        \n        if (data.error === 'Daily tap limit reached') {\n            tg.showAlert('Плюсы на сегодня закончились! Возвращайся завтра.');\n        }\n      } else {\n        if (typeof data.newBalance === 'number') {\n            setUser(prev => prev ? { ...prev, balance_crystals: data.newBalance } : null);\n        }\n        if (typeof data.tapsLeft === 'number') {\n            setTapsLeft(data.tapsLeft);\n        }\n      }\n    })\n    .catch(err => {\n      console.error('Tap fetch error:', err);\n      setTapsLeft(prev => prev + 1);\n      setUser(prevUser => {\n          if (!prevUser) return null;\n          return {\n              ...prevUser,\n              balance_crystals: prevUser.balance_crystals - 1,\n              daily_taps_count: prevUser.daily_taps_count - 1\n          };\n      });\n      tg.showAlert('Произошла ошибка сети. Попробуйте еще раз.');\n    });\n  };\n  \n  const handleInviteFriend = () => {\n    const tg = window.Telegram?.WebApp;\n    if (!tg || !user || !user.tg_id) {\n      tg?.showAlert('Не удалось создать ссылку. Пожалуйста, перезагрузите страницу.');\n      return;\n    }\n    \n    const botUsername = process.env.NEXT_PUBLIC_TELEGRAM_BOT_USERNAME;\n    const appName = 'assist_plus';\n    \n    if (!botUsername) {\n      console.error(\"Bot username is not set in .env.local\");\n      tg?.showAlert('Ошибка конфигурации приложения.');\n      return;\n    }\n    \n    const referralLink = `https://t.me/${botUsername}/${appName}?startapp=ref${user.tg_id}`;\n    const shareText = `Привет! Запусти мини-приложение \"Ассист+\" и получай бонусы!`;\n    \n    try {\n      const shareUrl = `https://t.me/share/url?url=${encodeURIComponent(referralLink)}&text=${encodeURIComponent(shareText)}`;\n      tg.openTelegramLink(shareUrl);\n    } catch (error) {\n      console.error('Share error:', error);\n      navigator.clipboard.writeText(`${shareText}\\n${referralLink}`);\n      tg.showAlert('Ссылка скопирована в буфер обмена! Отправь ее другу.');\n    }\n  };\n\n  const checkTask = (taskId: 'subscribe' | 'vote' | 'invite') => {\n    const tg = window.Telegram?.WebApp;\n    if (!tg?.initData) return;\n\n    fetch('/api/check-subscription', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ initData: tg.initData, taskId }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.success) {\n          setUser((prev) =>\n            prev\n              ? {\n                  ...prev,\n                  balance_crystals: data.newBalance,\n                  tasks_completed: {\n                    ...prev.tasks_completed,\n                    subscribe: taskId === 'subscribe' ? true : prev.tasks_completed?.subscribe || false,\n                    vote: taskId === 'vote' ? true : prev.tasks_completed?.vote || false,\n                    invite: taskId === 'invite' ? true : prev.tasks_completed?.invite || false,\n                  }\n                }\n              : null\n          );\n          tg.showAlert(data.message || `Награда получена: +${data.reward} плюсов!`);\n        } else {\n          tg.showAlert(data.message || 'Условия не выполнены.');\n        }\n      })\n      .catch((err) => {\n        console.error(`Check ${taskId} error:`, err);\n        tg.showAlert('Ошибка соединения с сервером.');\n      });\n  };\n\n  const handleSubscribeToChannel = () => {\n    const tg = window.Telegram?.WebApp;\n    tg?.openTelegramLink('https://t.me/assistplus_business');\n  };\n\n  const handleVoteForChannel = () => {\n    const tg = window.Telegram?.WebApp;\n    tg?.openTelegramLink('https://t.me/assistplus_business');\n  };\n\n  const [tasks] = useState<Task[]>([\n    {\n      id: 1,\n      points: 100,\n      title: \"Подпишись на Ассист+\",\n      checkButtonText: \"Проверить\",\n      actionButtonText: \"Подписаться\",\n      action: handleSubscribeToChannel,\n      checkAction: () => checkTask('subscribe'),\n      isCompleted: user?.tasks_completed?.subscribe || false,\n    },\n    {\n      id: 2,\n      points: 500,\n      title: \"Отдай голос\",\n      description: \"на улучшение канала\",\n      checkButtonText: \"Проверить\",\n      actionButtonText: \"Проголосовать\",\n      action: handleVoteForChannel,\n      checkAction: () => checkTask('vote'),\n      isCompleted: user?.tasks_completed?.vote || false,\n    },\n    {\n      id: 3,\n      points: 500,\n      title: \"Пригласи друга\",\n      checkButtonText: \"Проверить\",\n      actionButtonText: \"Пригласить\",\n      action: handleInviteFriend,\n      checkAction: () => checkTask('invite'),\n      isCompleted: user?.tasks_completed?.invite || false,\n    },\n  ]);\n\n  const [navItems] = useState<NavItem[]>([\n    {\n      id: \"home\",\n      icon: \"/vector6430-oh1s.svg\",\n      label: \"Главная\",\n      isActive: true,\n    },\n    {\n      id: \"shop\",\n      icon: \"/vector6430-lih9.svg\",\n      label: \"Магазин\",\n      isActive: false,\n    },\n    {\n      id: \"friends\",\n      icon: \"/vector6430-gzd.svg\",\n      label: \"Друзья\",\n      isActive: false,\n    },\n    {\n      id: \"profile\",\n      icon: \"/vector6431-qbze.svg\",\n      label: \"Профиль\",\n      isActive: false,\n    },\n  ]);\n\n  const handleNavClick = (itemId: string) => {\n    console.log(`Navigate to ${itemId}`);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-screen bg-white\">\n        <div className=\"text-gray-500 text-lg\">Загрузка...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex justify-center items-center h-screen bg-white\">\n        <div className=\"text-red-500 text-lg\">Ошибка: {error}</div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"flex justify-center items-center h-screen bg-white\">\n        <div className=\"text-gray-500 text-lg\">Не удалось загрузить данные пользователя.</div>\n      </div>\n    );\n  }\n\n  return (\n    <main className=\"flex flex-col items-center gap-10 pt-10 pb-0 px-0 relative bg-white min-h-screen\">\n      {/* Логотип - ИСПРАВЛЕННЫЙ */}\n      <header className=\"flex flex-col items-center gap-2.5 relative self-stretch w-full\">\n        <div className=\"relative w-[216px] h-[83px]\">\n          {/* Основной логотип с красным плюсиком */}\n          <div className=\"relative\">\n            <img\n              className=\"w-[200px] h-12\"\n              alt=\"Ассист+ логотип\"\n              src=\"/svg4122-a7pi.svg\"\n            />\n            {/* Красный плюсик в правом верхнем углу */}\n            <div className=\"absolute -top-1 -right-1 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center\">\n              <span className=\"text-white text-lg font-bold\">+</span>\n            </div>\n          </div>\n\n          {/* Надпись \"обмен между поколениями\" - ИСПРАВЛЕННАЯ */}\n          <div className=\"absolute top-[49px] left-0 w-full flex flex-col items-center justify-center\">\n            <div className=\"flex items-baseline gap-1\">\n              <span className=\"font-['Vasek'] italic text-black text-[32px] leading-[38.9px]\">\n                обмен\n              </span>\n              <span className=\"font-['Cera_Pro'] font-normal text-black text-lg leading-[14.6px]\">\n                между поколениями\n              </span>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Кнопка подписки на канал */}\n      <section className=\"flex flex-col items-center gap-2.5 relative self-stretch w-full\">\n        <button\n          onClick={handleSubscribeToChannel}\n          className=\"inline-flex flex-col items-center justify-center gap-2.5 px-5 py-[15px] rounded-[30px] bg-gradient-to-r from-[#F23939] to-[#DA1A1A] hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2\"\n          aria-label=\"Подписаться на канал\"\n        >\n          <div className=\"font-['Cera_Pro'] font-bold text-white text-lg text-center leading-[18px]\">\n            Подписаться на канал\n          </div>\n        </button>\n      </section>\n\n      {/* Блок с балансом - ИСПРАВЛЕННЫЙ (квадратная рамка) */}\n      <section className=\"flex flex-col items-center gap-[25px] pt-[5px] pb-5 px-0 relative self-stretch w-full\">\n        <div \n          className=\"relative w-[195px] h-[195px] rounded-2xl bg-gradient-to-b from-[#DFDFDF] to-[#D3D3D3] flex items-center justify-center cursor-pointer transition-transform active:scale-95 border-4 border-white shadow-lg\"\n          onClick={handleEarnCrystals}\n        >\n          {/* Кристалл с высоким качеством */}\n          <div className=\"relative\">\n            <img\n              className=\"w-[106px] h-[101px] drop-shadow-md\"\n              alt=\"Кристалл\"\n              src=\"/vector3530-fpvf.svg\"\n            />\n          </div>\n          <div className=\"absolute bottom-3 bg-white bg-opacity-80 rounded-2xl px-3 py-2 shadow-md\">\n            <span className=\"font-['Cera_Pro'] font-bold text-black text-2xl\">\n              {user.balance_crystals}\n            </span>\n          </div>\n        </div>\n\n        <p className=\"font-['Cera_Pro'] font-normal text-black text-base text-center leading-[17.6px] max-w-[253px]\">\n          <span>Кликай, зарабатывай плюсы, <br />и меняй их в </span>\n          <span className=\"font-bold\">аукционе знакомств</span>\n        </p>\n      </section>\n\n      {/* Задания */}\n      <section className=\"flex flex-col items-center gap-2.5 relative self-stretch w-full\">\n        <div className=\"flex flex-col w-full max-w-[359px] items-center gap-[35px] pt-[35px] pb-2 px-0 rounded-[0px_0px_32px_32px] overflow-hidden relative\">\n          {/* Фон */}\n          <div className=\"absolute top-0 left-0 w-full h-full\">\n            <div className=\"absolute top-[91px] left-0 w-full h-[1680px] bg-gray-100\" />\n            <img\n              className=\"absolute top-0 left-0 w-full h-[218px]\"\n              alt=\"Фоновое изображение\"\n              src=\"/svg1642-j9o.svg\"\n            />\n          </div>\n\n          {/* Заголовок */}\n          <div className=\"flex items-center justify-end gap-2.5 pr-4 w-full z-10\">\n            <h2 className=\"font-['Cera_Pro'] font-bold text-black text-[32px] text-right leading-[35.2px]\">\n              Задания\n            </h2>\n          </div>\n\n          {/* Список заданий */}\n          <div className=\"inline-flex flex-col items-center gap-2.5 relative z-10\">\n            {tasks.map((task) => (\n              <article\n                key={task.id}\n                className={`flex flex-col w-[343px] items-end gap-2.5 p-5 rounded-[30px] overflow-hidden bg-gradient-to-r from-[#F23939] to-[#DA1A1A] border-2 ${\n                  task.isCompleted ? 'border-green-500' : 'border-white'\n                } shadow-lg`}\n              >\n                {/* Баллы и иконка */}\n                <div className=\"inline-flex items-center justify-end gap-2.5\">\n                  <div className=\"font-['Cera_Pro'] font-bold text-white text-2xl leading-6\">\n                    +{task.points}\n                  </div>\n                  <div className=\"relative w-[25px] h-[25px]\">\n                    <img\n                      src=\"/ellipse234120-j9ae-200h.png\"\n                      alt=\"Кристалл\"\n                      className=\"absolute w-full h-full\"\n                    />\n                    <img\n                      src=\"/vector4120-sezw.svg\"\n                      alt=\"Иконка\"\n                      className=\"absolute top-1.5 left-1.5 w-3.5 h-3\"\n                    />\n                  </div>\n                </div>\n\n                {/* Описание задания */}\n                <div className=\"inline-flex flex-col items-end justify-center gap-2.5\">\n                  {task.description ? (\n                    <p className=\"font-['Cera_Pro'] font-medium text-white text-xl text-right leading-5 max-w-[285px]\">\n                      {task.title} <br />\n                      {task.description}\n                    </p>\n                  ) : (\n                    <div className=\"font-['Cera_Pro'] font-medium text-white text-xl text-right leading-5 max-w-[285px]\">\n                      {task.title}\n                    </div>\n                  )}\n                </div>\n\n                {/* Кнопки */}\n                <div className=\"inline-flex items-start justify-end gap-2.5 pt-[15px]\">\n                  <button\n                    onClick={task.checkAction}\n                    disabled={task.isCompleted}\n                    className=\"inline-flex flex-col items-center justify-center px-[15px] py-3 bg-white rounded-[30px] hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    aria-label={`Проверить задание: ${task.title}`}\n                  >\n                    <div className=\"font-['Cera_Pro'] font-normal text-red-600 text-base leading-4\">\n                      {task.isCompleted ? 'Готово' : task.checkButtonText}\n                    </div>\n                  </button>\n\n                  <button\n                    onClick={task.action}\n                    disabled={task.isCompleted}\n                    className=\"inline-flex flex-col items-center justify-center px-[15px] py-3 bg-white rounded-[30px] hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    aria-label={`${task.actionButtonText} для задания: ${task.title}`}\n                  >\n                    <div className=\"font-['Cera_Pro'] font-bold text-red-600 text-base leading-4\">\n                      {task.actionButtonText}\n                    </div>\n                  </button>\n                </div>\n\n                {/* Декоративный элемент */}\n                <div className=\"absolute top-[-43px] left-[207px] w-[120px] h-[120px] opacity-30\">\n                  <img\n                    src={task.id === 1 ? '/image1618-bpgf-200h.png' : \n                         task.id === 2 ? '/imagei167-jl1-200h.png' : \n                         '/imagei162-jtnf-200h.png'}\n                    alt=\"Иллюстрация задания\"\n                    className=\"w-full h-full\"\n                  />\n                </div>\n              </article>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Нижняя навигация */}\n      <nav\n        className=\"flex h-20 items-center justify-between px-[25px] py-2.5 relative self-stretch w-full bg-neutral-800 rounded-[15px_15px_0px_0px] overflow-hidden mt-auto\"\n        role=\"navigation\"\n        aria-label=\"Основная навигация\"\n      >\n        {navItems.map((item) => (\n          <button\n            key={item.id}\n            onClick={() => handleNavClick(item.id)}\n            className=\"flex flex-col items-center justify-center gap-2 p-2 hover:opacity-80 transition-opacity focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-neutral-800\"\n            aria-label={`Перейти к разделу ${item.label}`}\n            aria-current={item.isActive ? \"page\" : undefined}\n          >\n            <img\n              className=\"w-7 h-6\"\n              alt={item.label}\n              src={item.icon}\n            />\n            <div\n              className={`font-['Cera_Pro'] font-medium text-sm text-center ${\n                item.isActive ? \"text-white\" : \"text-[#868686]\"\n              }`}\n            >\n              {item.label}\n            </div>\n          </button>\n        ))}\n      </nav>\n    </main>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}